<form [formGroup]="form" class="form w-full">
    <mat-form-field [ngClass]="formFieldHelpers" class="fuse-mat-textarea flex-auto w-full" [floatLabel]="'always'">
        <mat-label class="items-center" *ngIf="showLabel">{{label}}<mat-icon class="pe"
                *ngIf="showHint && hintPostion == 'tooltip'" matTooltip="{{hint}}">help</mat-icon>
        </mat-label>
        <mat-chip-list #chipList class="chiplist" formControlName="chipList">
            <mat-chip *ngFor="let item of selectedOption" (removed)="removeOption(item)">
                {{item[valuePointer]}}
                <button matChipRemove *ngIf="!isDisabled">
                    <mat-icon inline=true>cancel</mat-icon>
                </button>
            </mat-chip>
            <!-- <h1 *ngIf="Required; then ifBlock else elseBlock"></h1>
            <ng-template #ifBlock> -->
                <input #input matInput [required]=Required (focus)="changeInput()" formControlName="control" [placeholder]="placeholder"
                    [matAutocomplete]="singleSelect" [matChipInputFor]="chipList">
            <!-- </ng-template>
            <ng-template #elseBlock>
                <input #input matInput (focus)="changeInput()" formControlName="control" [placeholder]="placeholder"
                    [matAutocomplete]="singleSelect" [matChipInputFor]="chipList">
            </ng-template> -->
        </mat-chip-list>
        <mat-autocomplete autoActiveFirstOption #singleSelect="matAutocomplete"
            (optionSelected)="onFunctionSelect($event)">
            <ng-container *ngFor="let function of filteredDropDownValues | async">
                <mat-option [value]="function" *ngIf="isOptionSelected(function)">
                    {{function[valuePointer]}}
                </mat-option>
            </ng-container>
        </mat-autocomplete>
        <mat-hint *ngIf="showHint && hintPostion == 'mat-hint'">{{hint}}</mat-hint>
    </mat-form-field>
</form>