<div class="flex flex-col min-w-0 overflow-hidden pt-12">

    <mat-drawer-container class="flex-auto h-full"
        [ngStyle]="{ 'position' : filterDrawer.opened ? 'fixed' : 'relative'}">
        <!-- Drawer -->
        <mat-drawer class="absolute inset-0 w-1qua dark:bg-gray-900 overflow-hidden" [autoFocus]="false" [mode]="'over'"
            #filterDrawer>
            <div class="p-4">
                <!-- Portfolio Owner -->
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Portfolio Owner</mat-label>
                    <mat-chip-list #portownList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let owner of filtersnew.portfolioOwner" (removed)="removeoption(owner,'PortfolioOwner')">
                            {{owner.portfolioOwner}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="Portfolio Owner" #portownInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="portownList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectoption($event,'PortfolioOwner')">
                        <mat-option *ngFor="let filteroption of filterlist.portfolioOwner" [value]="filteroption">
                            {{filteroption.portfolioOwner}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <!-- People -->
                <mat-form-field class="example-chip-list" appearance="fill" disabled>
                    <mat-label>People (In Progress)</mat-label>
                    <mat-chip-list #peopleList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let person of defaultfilter.people" (removed)="remove(fruit)">
                            {{person}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="People" #peopleInput [formControl]="fruitCtrl" [matAutocomplete]="auto"
                            [matChipInputFor]="peopleList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes" disabled>
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <!-- Excecution Scope -->
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Excecution Scope</mat-label>
                    <mat-chip-list #exscList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let scope of filtersnew.executionScope" (removed)="removeoption(scope, 'Excecution')">
                            {{scope.portfolioOwner}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="Excecution Scope" #exscInput [formControl]="fruitCtrl"
                            [matAutocomplete]="exec" [matChipInputFor]="exscList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #exec="matAutocomplete" (optionSelected)="selectoption($event,'Excecution')">
                        <mat-option *ngFor="let execoption of filterlist.executionScope" [value]="execoption">
                            {{execoption.portfolioOwner}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <!-- Phase -->
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Phase</mat-label>
                    <mat-chip-list #phaseList class="chiplist">
                        <mat-chip *ngFor="let ph of filtersnew.phase" (removed)="removeoption(ph, 'Phase')">
                            {{ph.lookUpName}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="Phase" #phaseInput [formControl]="phaseCtrl" [matAutocomplete]="phase"
                            [matChipInputFor]="phaseList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #phase="matAutocomplete" (optionSelected)="selectoption($event,'Phase')">
                        <mat-option *ngFor="let pha of filterlist.phase" [value]="pha">
                            {{pha.lookUpName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <!-- Products -->
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Product(s)</mat-label>
                    <mat-chip-list #productList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let product of filtersnew.products" (removed)="removeoption(product ,'Product')">
                            {{product.fullProductName}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="Product(s)" #productInput [formControl]="fruitCtrl" [matAutocomplete]="prod"
                            [matChipInputFor]="productList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #prod="matAutocomplete" (optionSelected)="selectoption($event,'Product')">
                        <mat-option *ngFor="let produ of filterlist.products" [value]="produ">
                            {{produ.fullProductName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <!-- Project State -->
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Project State</mat-label>
                    <mat-chip-list #stateList class="chiplist">
                        <mat-chip *ngFor="let stat of filtersnew.state" (removed)="removeoption(stat, 'State')">
                            {{stat.lookUpName}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="Project State" #stateInput [formControl]="stateCtrl"
                            [matAutocomplete]="state" [matChipInputFor]="stateList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #state="matAutocomplete" (optionSelected)="selectoption($event,'State')">
                        <mat-option *ngFor="let sta of filterlist.state" [value]="sta">
                            {{sta.lookUpName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <!-- Total Capex -->
                <mat-form-field class="example-chip-list" appearance="fill" disabled>
                    <mat-label>Total CAPEX (In Progress)</mat-label>
                    <mat-chip-list #totcapList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let cap of defaultfilter.totalCAPEX" (removed)="remove(fruit)">
                            {{cap}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #totcapInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="totcapList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes" disabled>
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <!-- GMS Budget Owner 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>GMS Budget Owner</mat-label>
                    <mat-chip-list #gmsbowList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let bown of defaultfilter.gmsBudgetOwner" (removed)="remove(fruit)">
                            {{bown}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #gmsbowInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="gmsbowList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- OE Project Type 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>OE Project Type</mat-label>
                    <mat-chip-list #oeptList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let oept of defaultfilter.oeProjectType" (removed)="remove(fruit)">
                            {{oept}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #oeptInput [formControl]="fruitCtrl" [matAutocomplete]="auto"
                            [matChipInputFor]="oeptList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- Project Type 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Project Type</mat-label>
                    <mat-chip-list #projtypeList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let pt of defaultfilter.projectType" (removed)="remove(fruit)">
                            {{pt}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #projtypeInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="projtypeList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- Funding Status 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Funding Status</mat-label>
                    <mat-chip-list #fundstatList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let fstat of defaultfilter.fundingStatus" (removed)="remove(fruit)">
                            {{fstat}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #fundstatInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="fundstatList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- AGILE -->
                <!-- AGILE Workstream 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>AGILE Workstream</mat-label>
                    <mat-chip-list #agileworkstList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let awork of defaultfilter.agileWorkstream" (removed)="remove(fruit)">
                            {{awork}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #agileworkstInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="agileworkstList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- AGILE Wave 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>AGILE Wave</mat-label>
                    <mat-chip-list #agilewaveList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let awave of defaultfilter.agileWave" (removed)="remove(fruit)">
                            {{awave}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #agilewaveInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="agilewaveList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!--AGILE END-->
                <!-- Primary KPI 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Primary KPI</mat-label>
                    <mat-chip-list #primarykpiList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let kpi of defaultfilter.primaryKPI" (removed)="remove(fruit)">
                            {{kpi}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #primarykpiInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="primarykpiList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- Strategic Year 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Strategic Year</mat-label>
                    <mat-chip-list #stratyrList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let year of defaultfilter.startegicYear" (removed)="remove(fruit)">
                            {{year}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #stratyrInput [formControl]="fruitCtrl"
                            [matAutocomplete]="stratyr" [matChipInputFor]="stratyrList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #stratyr="matAutocomplete" (optionSelected)="selected($event,'Strategic Year')">
                        <mat-option *ngFor="let styr of filterInputs.startegicYear" [value]="styr.lookUpId">
                            {{styr.lookUpName}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- Annual Initiatives 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Annual Initiatives</mat-label>
                    <mat-chip-list #annualinList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let initiative of defaultfilter.annualInitiatives" (removed)="remove(fruit)">
                            {{initiative}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #annualinInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="annualinList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- TOPS Group 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>TOPS Group</mat-label>
                    <mat-chip-list #topsgpList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let group of defaultfilter.topsGroup" (removed)="remove(fruit)">
                            {{group}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #topsgpInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="topsgpList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- CAPS Project 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>CAPS Project</mat-label>
                    <mat-chip-list #capsprojList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let cap of defaultfilter.capsProject" (removed)="remove(fruit)">
                            {{cap}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #capsprojInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="capsprojList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <!-- Project / Program 
                <mat-form-field class="example-chip-list" appearance="fill">
                    <mat-label>Project / Program</mat-label>
                    <mat-chip-list #projprogList aria-label="Fruit selection" class="chiplist">
                        <mat-chip *ngFor="let name of defaultfilter.projectName" (removed)="remove(fruit)">
                            {{name}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <input placeholder="New fruit..." #projprogInput [formControl]="fruitCtrl"
                            [matAutocomplete]="auto" [matChipInputFor]="projprogList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                    </mat-chip-list>
                    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event,'Priority')">
                        <mat-option *ngFor="let fruit of allFruits" [value]="fruit">
                            {{fruit}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>-->
                <button class="apply-button" mat-flat-button [color]="'primary'" (click)="applyfilters()">
                    Apply Filters
                </button>
            </div>
        </mat-drawer>
        <mat-drawer class="w-3qua dark:bg-gray-900 overflow-hidden" [autoFocus]="false" [mode]="'over'"
            [position]="'end'" #matDrawerRight>
            <div class="p-4">
                Hello I am new
            </div>
        </mat-drawer>
        <!-- Drawer content -->
        <mat-drawer-content class="flex flex-col" style="width: 100vw;">

            <!-- Header -->
            <div [hidden]='!showContent' class="flex-auto border-t -mt-px pt-4 sm:pt-6 flex-auto p-6 sm:p-10">
                <button class="ml-4" mat-flat-button [color]="'primary'" (click)="filterDrawer.toggle()">
                    Filters
                </button>
                <button class="ml-4" mat-flat-button [color]="'primary'" (click)="resetfilters()">
                    Reset Filters (only dev)
                </button>
                <mat-chip *ngFor="let fruit of fruits" (removed)="remove(fruit)" class="dashboard-chip-list">
                    {{fruit}}
                    <button matChipRemove>
                        <mat-icon>cancel</mat-icon>
                    </button>
                </mat-chip>
                <div *ngIf='showContent'
                    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-6 gap-6 w-full min-w-0 mt-8 " @slideInRight>
                    <div class="xl:col-span-2 flex flex-col flex-auto overflow-hidden bg-card shadow rounded-2xl"
                        @slideInRight>
                        <div class="flex flex-col flex-auto  overflow-hidden p-6">
                            <div class="flex items-start justify-between">
                                <div class="font-medium tracking-tight tile-title text-primary leading-6 truncate">Priority Distribution
                                </div>
                            </div>
                            <div class="flex flex-col flex-auto mt-6 h-60">
                                <apx-chart class="w-full h-50 mt-4" [chart]="chartNewVsReturning.chart"
                                    [colors]="chartNewVsReturning.colors" [labels]="chartNewVsReturning.labels"
                                    [legend]="chartNewVsReturning.legend"
                                    [plotOptions]="chartNewVsReturning.plotOptions"
                                    [series]="chartNewVsReturning.series" [states]="chartNewVsReturning.states"
                                    [tooltip]="chartNewVsReturning.tooltip"></apx-chart>
                            </div>
                            <!--  <div class="mt-8">
                                <div class="-my-3 divide-y">
                                    <ng-container *ngFor="let dataset of data.newVsReturning.series; let i = index">
                                        <div class="grid grid-cols-3 py-3">
                                            <div class="flex items-center">
                                                <div
                                                    class="flex-0 w-2 h-2 rounded-full"
                                                    [style.backgroundColor]="chartNewVsReturning.colors[i]"></div>
                                                <div class="ml-3 truncate">{{data.newVsReturning.labels[i]}}</div>
                                            </div>
                                            <div class="font-medium text-right">{{data.newVsReturning.uniqueVisitors * dataset / 100 | number:'1.0-0'}}</div>
                                            <div class="text-right text-secondary">{{dataset}}%</div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>-->
                        </div>
                        <div class="p-4 text-right">
                            <button class="ml-4" mat-button [color]="'primary'" (click)="matDrawerRight.toggle()">
                                View Details <mat-icon svgIcon="heroicons_solid:arrow-sm-right"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <div class="xl:col-span-2 flex flex-col flex-auto overflow-hidden bg-card shadow rounded-2xl"
                        @slideInLeft>
                        <div class="sm:col-span-3 lg:col-span-2 flex flex-col flex-auto p-6 overflow-hidden">
                            <div class="tile-title font-medium tracking-tight text-primary leading-6 truncate mb-8">Phase Distribution
                            </div>
                            <div class="flex flex-col flex-auto h-60">
                                <apx-chart class="flex-auto w-full h-50" [chart]="chartBudgetDistribution.chart"
                                    [colors]="chartBudgetDistribution.colors" [series]="chartBudgetDistribution.series"
                                    [plotOptions]="chartBudgetDistribution.plotOptions"
                                    [tooltip]="chartBudgetDistribution.tooltip" [xaxis]="chartBudgetDistribution.xaxis"
                                    [legend]="chartBudgetDistribution.legend" [grid]="chartBudgetDistribution.grid"
                                    [yaxis]="chartBudgetDistribution.yaxis"
                                    [dataLabels]="chartBudgetDistribution.dataLabels"></apx-chart>
                            </div>
                        </div>
                        <div class="p-4 text-right">
                            <button class="ml-4" mat-button [color]="'primary'" (click)="matDrawerRight.toggle()">
                                View Details <mat-icon svgIcon="heroicons_solid:arrow-sm-right"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                        <div class="sm:col-span-3 lg:col-span-2 flex flex-col p-6 flex-auto overflow-hidden">
                            <div class="tile-title font-medium tracking-tight text-primary leading-6 truncate mb-8">Milestones</div>

                            <ng-container *ngFor="let dataset of data.milstoneTile">
                                <div class="grid grid-cols-2 py-3">
                                    <div class="flex items-center">
                                        <div class="ml-3">{{dataset.title}}</div>
                                    </div>
                                    <div class="text-right text-secondary">{{dataset.value}}%</div>
                                </div>
                            </ng-container>
                        </div>
                        <div class="p-4 text-right">
                            <button class="ml-4" mat-button [color]="'primary'" (click)="matDrawerRight.toggle()">
                                View Details <mat-icon svgIcon="heroicons_solid:arrow-sm-right"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <!-- Milestones -->
                    <div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                        <div class="sm:col-span-3 lg:col-span-2 flex flex-col p-6 flex-auto overflow-hidden">
                            <div class="tile-title font-medium tracking-tight leading-6 text-primary truncate mb-2">Budget</div>

                            <div class="flex flex-col mt-2">
                                <div class="grid grid-cols-3 py-3">
                                    <div class="flex items-center"></div>
                                    <div class="text-right font-medium">CAPEX</div>
                                    <div class="text-right font-medium">OPEX</div>
                                </div>
                                <ng-container *ngFor="let dataset of data.budgetTile">
                                    <div class="grid grid-cols-3 py-3">
                                        <div class="flex items-center">
                                            <div class="ml-3">{{dataset.title}}</div>
                                        </div>
                                        <div class="text-right text-secondary">{{dataset.value}}</div>
                                        <div class="text-right text-secondary">{{dataset.value2}}</div>
                                    </div>
                                </ng-container>
                            </div>

                        </div>
                        <div class="p-4 text-right">
                            <button class="ml-4" mat-button [color]="'primary'" (click)="matDrawerRight.toggle()">
                                View Details <mat-icon svgIcon="heroicons_solid:arrow-sm-right"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <!-- Ask Needs -->
                    <div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                        <div class="sm:col-span-3 lg:col-span-2 flex flex-col p-6 flex-auto overflow-hidden">
                            <div class="tile-title font-medium tracking-tight text-primary leading-6 truncate mb-8">Next 3 Months</div>
                            <div class="flex flex-col mt-2">
                                <ng-container *ngFor="let dataset of data.nextThreeTile">
                                    <div class="grid grid-cols-2 py-3">
                                        <div class="flex items-center">
                                            <div class="ml-3">{{dataset.title}}</div>
                                        </div>
                                        <div class="text-right text-secondary">{{dataset.value}}</div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                        <div class="p-4 text-right">
                            <button class="ml-4" mat-button [color]="'primary'" (click)="matDrawerRight.toggle()">
                                View Details <mat-icon svgIcon="heroicons_solid:arrow-sm-right"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <!-- Risk/Issues -->
                    <div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
                        <div class="sm:col-span-3 lg:col-span-2 flex flex-col p-6 flex-auto overflow-hidden">
                            <div class="tile-title font-medium tracking-tight text-primary leading-6 truncate mb-2">Last 3 Months</div>

                            <div class="flex flex-col mt-2">
                                <ng-container *ngFor="let dataset of data.lastThreeTile">
                                    <div class="grid grid-cols-2 py-3">
                                        <div class="flex items-center">
                                            <div class="ml-3">{{dataset.title}}</div>
                                        </div>
                                        <div class="text-right text-secondary">{{dataset.value}}</div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                        <div class="p-4 text-right">
                            <button class="ml-4" mat-button [color]="'primary'" (click)="matDrawerRight.toggle()">
                                View Details <mat-icon svgIcon="heroicons_solid:arrow-sm-right"></mat-icon>
                            </button>
                        </div>
                    </div>

                </div>
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-8 w-full mt-8">
                    <!-- Recent transactions table -->
                    <div class="xl:col-span-3 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden"
                        @slideInLeft>
                        <div class="p-6">
                            <div class="mr-4 tile-title font-medium tracking-tight text-primary leading-6 truncate">Your Projects</div>
                            <div class="text-secondary font-medium">1 initiated, 1 completed, 2 excecuting</div>
                        </div>
                        <div class="overflow-x-auto mx-6">
                            <table class="w-full bg-transparent" mat-table matSort [dataSource]="projects"
                                [trackBy]="trackByFn" #recentTransactionsTable>

                                <!-- Transaction ID -->
                                <ng-container matColumnDef="overallStatus">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Overall<br>Status
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            <mat-icon
                                                svgIcon="{{(indicator.getIndicators(project.overallStatus, 'overall')).icontype}}"
                                                class="{{(indicator.getIndicators(project.overallStatus, 'overall')).iconcolor}}">
                                            </mat-icon>
                                        </span>
                                    </td>
                                </ng-container>

                                <!-- Date -->
                                <ng-container matColumnDef="problemTitle">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Title
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            <a (click)= "routeProject(project.projectUid)" href="javascript:void(0)">
                                                {{project.problemTitle}}</a>
                                        </span>
                                    </td>
                                </ng-container>

                                <!-- Name -->
                                <ng-container matColumnDef="phase">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Phase
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            {{project.phase}}
                                        </span>
                                    </td>
                                </ng-container>

                                <!-- Amount -->
                                <ng-container matColumnDef="PM">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        PM /Sponsor
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            {{project.pm}}<br>
                                            {{project.sponsor}}
                                        </span>
                                    </td>
                                </ng-container>

                                <!-- Status -->
                                <ng-container matColumnDef="schedule">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Schedule
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            <mat-icon
                                                svgIcon="{{(indicator.getIndicators(project.scheduleIndicator, '')).icontype}}"
                                                class="{{(indicator.getIndicators(project.scheduleIndicator, '')).iconcolor}}">
                                            </mat-icon>
                                        </span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="risk">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Risk/<br>
                                        Issues
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            <mat-icon
                                                svgIcon="{{(indicator.getIndicators(project.riskIndicator, '')).icontype}}"
                                                class="{{(indicator.getIndicators(project.riskIndicator, '')).iconcolor}}">
                                            </mat-icon>
                                        </span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="ask">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Ask/<br>
                                        Needs
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            <mat-icon
                                                svgIcon="{{(indicator.getIndicators(project.askNeedIndicator, '')).icontype}}"
                                                class="{{(indicator.getIndicators(project.askNeedIndicator, '')).iconcolor}}">
                                            </mat-icon>
                                        </span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="budget">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Budget/<br>
                                        Spend
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            <mat-icon
                                                svgIcon="{{(indicator.getIndicators(project.budgetIndicator, '')).icontype}}"
                                                class="{{(indicator.getIndicators(project.budgetIndicator, '')).iconcolor}}">
                                            </mat-icon>
                                        </span>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="capex">
                                    <th mat-header-cell mat-sort-header *matHeaderCellDef>
                                        Total Capex<br>
                                        Approved/<br>
                                        Forecast
                                    </th>
                                    <td mat-cell *matCellDef="let project">
                                        <span class="pr-6 font-medium text-sm text-secondary whitespace-nowrap">
                                            {{project.currentYrCapExBudget}} USD<br>
                                            {{project.currentYrCapExForecast}} USD
                                        </span>
                                    </td>
                                </ng-container>

                                <!-- Footer -->
                                <ng-container matColumnDef="recentOrdersTableFooter">
                                    <td class="py-6 px-0 border-0" mat-footer-cell *matFooterCellDef colspan="6">
                                        <button mat-stroked-button>See all Projects</button>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="recentTransactionsTableColumns"></tr>
                                <tr class="order-row h-16" mat-row
                                    *matRowDef="let row; columns: recentTransactionsTableColumns;"></tr>
                                <tr class="h-16 border-0" mat-footer-row *matFooterRowDef="['recentOrdersTableFooter']">
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

            </div>

        </mat-drawer-content>

    </mat-drawer-container>

</div>
