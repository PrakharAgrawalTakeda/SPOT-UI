<div class="w-full flex-col flex bg-card rounded-2xl m-8 mt-0" *ngIf="viewContent">
    <div class="flex justify-between items-center  p-6 pb-0">
        <h3 class="font-medium tracking-tight leading-6 truncate text-xl text-primary">Detailed Project Schedule (BETA)
        </h3>
        <div class="flex justify-end items-center gap-3 w-1/3">
            <form [formGroup]="detailedScheduleForm" class="w-full">
                <spot-input-date  formControlName="projectStartDate" [label]="'Project Start Date'"></spot-input-date>
            </form>
            <button class="mx-4 text-primary bg-gray-200 w-1/2 " mat-flat-button [color]="'primary-200'" (click)="addTask()">
                <mat-icon svgIcon="heroicons_outline:plus-circle"></mat-icon>&nbsp; Add New Task
            </button>
        </div>
    </div>
    <div class="flex w-full h-full p-6 pr-10">
        <bryntum-gantt-project-model #project [taskStore]="tasks" [id]="id" [dependencyStore]="dependencies" [startDate]="startDate">
        </bryntum-gantt-project-model>

        <bryntum-gantt #gantt [startDate]="ganttConfig.startDate!" [columns]="ganttConfig.columns!"
            [features]="ganttConfig.features!" [endDate]="ganttConfig.endDate!" [project]="project" 
            (onDataChange)="onDataChange($event)" [infiniteScroll]="ganttConfig.infiniteScroll">
        </bryntum-gantt>
    </div>
    <div class="flex justify-end items-center p-6 pt-0 pr-10">
        <button class="min-w-26" mat-flat-button [color]="'primary'" *ngIf="viewSubmitButton" type="submit"
            (click)="saveGanttData()">
            Save
        </button>
    </div>
</div>