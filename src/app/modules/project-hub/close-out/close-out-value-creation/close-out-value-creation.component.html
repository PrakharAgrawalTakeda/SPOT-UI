<div class="w-full min-w-0 p-8 pt-0" #container >
    <div class="flex justify-between items-start gap-6 w-full" >
        <div class="flex flex-col w-full flex-auto bg-card p-6 shadow rounded-2xl overflow-hidden" #container *ngIf="viewContent">
            <div class="mr-4 text-xl font-medium tracking-tight leading-10 truncate text-primary">Value Capture Fields
            </div>
            <form class="grid grid-cols-3 gap-x-6 gap-y-0 w-full" [formGroup]="ValueCaptureForm">
                <spot-input-date class="w-full read-only" formControlName="valueCaptureStart" name="valueCaptureStart"
                    [label]="'Value Capture Start'" [placeholder]="'Value Capture Start'" [showHint]="true" [hint]="'
                    ‘Value Capture Start’ Defines the first fiscal year in which value will be captured.'" >
                </spot-input-date>
                <spot-input class="w-full read-only" formControlName="primaryValueDriver" name="primaryValueDriver"
                    [label]="'Primary Value Driver'" [placeholder]="'Primary Value Drivery'">
                </spot-input>
                <spot-input class="w-full read-only" formControlName="valueCommentary" name="valueCommentary"
                    [label]="'Value Commentary'" [placeholder]="'Value Capture Commentary'">
                </spot-input>
            </form>
        </div>
    </div>
    <div class="flex justify-between items-start gap-6 w-full" >
        <div class="flex flex-col w-full flex-auto bg-card p-6 mt-6 shadow rounded-2xl overflow-hidden" #container *ngIf="viewContent">
        <ngx-datatable [headerHeight]="'auto'" [rowHeight]="'auto'" [scrollbarV]="false" [scrollbarH]="true" columnMode="force"
        class="datatable-VC-80 pr-6 material font-medium text-sm text-default whitespace-nowrap" [rows]="valuecreationngxdata" #valuecreationTable [rowClass]="getRowClass">
        <ngx-datatable-column [resizeable]="false" [sortable]="false" [width]="30" [frozenLeft]="true">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <mat-icon svgIcon="{{(indicator.getIndicators(getLookup(row.statusId), 'circle')).icontype}}"
                    class="{{(indicator.getIndicators(getLookup(row.statusId), 'circle')).iconcolor}}" style="height: 110px !important;">
                </mat-icon>
                <!-- <span *ngIf="row.statusId == '' || row.statusId == null" style="background-color: rgb(175, 175, 175) !important; height: 110px;width: 20px; display: flex;"></span>
                <span *ngIf="getLookup(row.statusId) == 'Will Not Meet'" style="background-color: red !important; height: 110px;width: 20px; display: flex;"></span>
                <span *ngIf="getLookup(row.statusId) == 'At Risk'" style="background-color: #FFCC00 !important; height: 110px;width: 20px; display: flex;"></span>
                <span *ngIf="getLookup(row.statusId) == 'On Track'" style="background-color: green !important; height: 110px;width: 20px; display: flex;"></span> -->
            </ng-template>  
        </ngx-datatable-column>
        <ngx-datatable-column name="Status" prop="statusId" [resizeable]="false" [width]="100" [frozenLeft]="true" [headerClass]="getFrozenHeaderClassID">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p style="margin-bottom: 68px;">{{getLookup(value)}}</p>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Portfolio Owner" prop="metricPortfolioID" [width]="130" [frozenLeft]="true" [headerClass]="getFrozenHeaderClass">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p style="margin-bottom: 68px;">{{getOwner(value, row.metricTypeID)}}</p>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Category" prop="metricCategoryId" [width]="120" [frozenLeft]="true" [headerClass]="getFrozenHeaderClass">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p style="margin-bottom: 68px;">{{getLookup(value)}}</p>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Metric Name" prop="metricName" [width]="160" [frozenLeft]="true" [headerClass]="getFrozenClass">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p style="margin-bottom: 44px;"><mat-icon *ngIf="value!= ''" class="pe" style="font-size: 17px;"
                    [matTooltip]=row.helpText>help</mat-icon>{{value}}</p>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Units" prop="metricUnit" [width]="100" [frozenLeft]="true" [headerClass]="columnstyle">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p style="margin-bottom: 68px;">{{value}}</p>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Value Capture Level" prop="metricLevelId" [width]="100" [frozenLeft]="true" [headerClass]="getFrozenID">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p style="margin-bottom: 68px;">{{getLookup(value)}}</p>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column [width]="160" [frozenLeft]="true">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p *ngIf="row.metricFormat != 'Currency (local)'">{{ row.FianncialType1 }} <br> {{row.FianncialType2}} <br> {{row.FianncialType3}} <br> {{row.FianncialType4}}</p>
                <p *ngIf="row.metricFormat == 'Currency (local)'">{{ row.FianncialType1 }} ({{localCurrency}}) <br> {{row.FianncialType2}} ({{localCurrency}}) <br> {{row.FianncialType3}} ({{localCurrency}}) <br> {{row.FianncialType4}} ({{localCurrency}})</p>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column *ngFor="let col of columnYear; let i = index"   [name]=col.year [prop]=col.year [width]="190">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <ng-template ngFor let-obj [ngForOf]="value">
                    <p *ngIf="row.metricFormat == 'Time (HH:MM)' || row.metricFormat == ''">{{ obj.target }} <br>
                        {{ obj.baseline }}<br>
                        {{ obj.current }}<br>
                        {{ obj.actual }}</p>
                    <p *ngIf="row.metricFormat == 'Whole Number' || row.metricFormat == 'Currency (local)'">{{ obj.target | number:'1.0-0' }} <br> {{obj.baseline | number:'1.0-0' }} <br> {{obj.current | number:'1.0-0' }} <br> {{obj.actual | number:'1.0-0' }}</p>
                    <p *ngIf="row.metricFormat == 'Decimal (1 decimal)'">{{ obj.target | number:'1.0-1' }} <br> {{obj.baseline | number:'1.0-1' }} <br> {{obj.current | number:'1.0-1' }} <br> {{obj.actual | number:'1.0-1' }}</p>
                    <p *ngIf="row.metricFormat == 'Percentage (2 decimal)' || row.metricFormat == 'Decimal (2 decimals)'">{{ obj.target | number:'1.0-2' }} <br> {{obj.baseline | number:'1.0-2' }} <br> {{obj.current | number:'1.0-2' }} <br> {{obj.actual | number:'1.0-2' }}</p>
                    <br />
                </ng-template>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Total" prop="strategicTarget" [width]="190">
            <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                <p *ngIf="row.metricFormat == 'Time (HH:MM)' || row.metricFormat == ''">{{ value }} <br> {{row.strategicBaseline }} <br> {{row.strategicCurrent }} <br> {{row.strategicActual }}</p>
                <p *ngIf="row.metricFormat == 'Whole Number' || row.metricFormat == 'Currency (local)'">{{ value | number:'1.0-0' }} <br> {{row.strategicBaseline | number:'1.0-0' }} <br> {{row.strategicCurrent | number:'1.0-0' }} <br> {{row.strategicActual | number:'1.0-0' }}</p>
                <p *ngIf="row.metricFormat == 'Decimal (1 decimal)'">{{ value | number:'1.0-1' }} <br> {{row.strategicBaseline | number:'1.0-1' }} <br> {{row.strategicCurrent | number:'1.0-1' }} <br> {{row.strategicActual | number:'1.0-1' }}</p>
                <p *ngIf="row.metricFormat == 'Percentage (2 decimal)' || row.metricFormat == 'Decimal (2 decimals)'">{{ value | number:'1.0-2' }} <br> {{row.strategicBaseline | number:'1.0-2' }} <br> {{row.strategicCurrent | number:'1.0-2' }} <br> {{row.strategicActual | number:'1.0-2' }}</p>
            </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
        </div>
    </div>
    
</div>