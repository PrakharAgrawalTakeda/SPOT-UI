<div class="gap-6 w-full min-w-0 p-8 pt-0 ">
    <div *ngIf="hubsetting.overallStatus"
        class="xl:col-span-6 flex flex-col flex-auto pt-2 pb-2 mb-6 pl-6 pr-6 bg-card shadow rounded-2xl overflow-hidden">
        <div class="pl-6 pb-0 flex items-start justify-between pt-2 pr-0">
            <div class="mr-4  font-medium tracking-tight leading-6 truncate " style="padding-top: 8px;">
                <h3 class="text-xl text-primary">Overall Status</h3>
                <p class="text-sm">Status Through: {{projectViewDetails.statusData.statusThrough | date:'dd-MMM-yyyy'}}
                </p>
                <div class="flex items-start justify-between pt-2">
                    <p> Overall Status</p>&nbsp;
                    <mat-icon
                        svgIcon="{{(indicator.getIndicators(indicatorlook[projectViewDetails.statusData.overallStatusId], 'circle')).icontype}}"
                        class="{{(indicator.getIndicators(indicatorlook[projectViewDetails.statusData.overallStatusId], 'circle')).iconcolor}}">
                    </mat-icon>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <p> Budget</p>&nbsp;
                    <mat-icon
                        svgIcon="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.budgetIndicator, '')).icontype}}"
                        class="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.budgetIndicator, '')).iconcolor}}">
                    </mat-icon>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <p> Schedule </p>&nbsp;
                    <mat-icon
                        svgIcon="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.scheduleIndicator, '')).icontype}}"
                        class="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.scheduleIndicator, '')).iconcolor}}">
                    </mat-icon>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <p> Risk/Issues </p>&nbsp;
                    <mat-icon
                        svgIcon="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.riskIndicator, '')).icontype}}"
                        class="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.riskIndicator, '')).iconcolor}}">
                    </mat-icon>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <p> Ask/Needs </p>&nbsp;
                    <mat-icon
                        svgIcon="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.askNeedIndicator, '')).icontype}}"
                        class="{{(indicator.getIndicators(projectViewDetails.portfolioCeterData.askNeedIndicator, '')).iconcolor}}">
                    </mat-icon>

                </div>
            </div>

            <div>
                <div class="flex items-start justify-between">
                    <div></div>
                    <button class="ml-4 text-primary text-md" mat-flat-button [color]="'primary-200'"
                        (click)="projecthubservice.toggleDrawerOpen('Overall',projectViewDetails.statusData.statusUnquieId, [], id)">
                        <mat-icon class="customIconSize" svgIcon="heroicons_outline:pencil"></mat-icon>&nbsp; Edit
                    </button>
                </div>
                <p class="text-sm">Last Updated: {{projectViewDetails.statusData.statusLastUpdated |
                    date:'dd-MMM-yyyy'}}

            </div>
        </div>
        <!-- Summary -->
        <div id="overall-status" class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-6 gap-6 w-full min-w-0 p-6">
            <div
                class="col-span-2 flex flex-col flex-auto p-6 pt-2 pl-3 bg-card shadow rounded-2xl overflow-hidden bg-primary-100 text-on-primary-100 bls-5 overall-brief">
                <div class="flex items-start justify-between overflow-hidden">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">Current Status</div>
                </div>
                <div id="sd" class="mt-4 overflow-hidden" [ngClass]="overallCollapseClass">
                    {{projectViewDetails.statusData.overallStatusDescription}}
                </div>
            </div>
            <!-- Overdue -->
            <div
                class="col-span-2 flex flex-col flex-auto p-6 pt-2 pl-3 bg-card shadow rounded-2xl overflow-hidden bg-primary-100 text-on-primary-100 bls-5 overall-brief">
                <div class="flex items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">Recent Accomplishment</div>
                </div>
                <div id="ra" class="mt-4 overflow-hidden" [ngClass]="overallCollapseClass">
                    {{projectViewDetails.statusData.recentAccomplishments}}
                </div>
            </div>
            <!-- Issues -->
            <div
                class="col-span-2 flex flex-col flex-auto p-6 pt-2 pl-3 bg-card shadow rounded-2xl overflow-hidden bg-primary-100 text-on-primary-100 bls-5 overall-brief">
                <div class="flex items-start justify-between">
                    <div class="text-lg font-medium tracking-tight leading-6 truncate">Next Priorities</div>
                </div>
                <div id="ns" class="mt-4 overflow-hidden" [ngClass]="overallCollapseClass">
                    {{projectViewDetails.statusData.nextSteps}}
                </div>
            </div>
        </div>
        <button *ngIf="overallCollapse && !overallCollapseControll" (click)="collapseToggle()" mat-button>Show More
            <mat-icon>keyboard_arrow_down</mat-icon></button>
        <button *ngIf="overallCollapse && overallCollapseControll" (click)="collapseToggle()" mat-button>Show Less
            <mat-icon>keyboard_arrow_up</mat-icon></button>
    </div>

    <!-- Performance 
    <div *ngIf="hubsetting.overallStatus"
        class="xl:col-span-6 flex flex-col flex-auto p-6 mb-6 bg-card shadow rounded-2xl overflow-hidden">
        <div class="p-6 flex items-start justify-between">
            <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate text-primary">Performance</div>

            <div class="text-primary">
                <div class="flex items-start justify-between">
                    <div style="padding-right: 5px;">
                        <button class="ml-4 text-primary" mat-flat-button [color]="'primary-200'"
                            (click)="projecthubservice.toggleDrawerOpen('AskNeed', 'new', [], id)">
                            <mat-icon svgIcon="heroicons_outline:plus-circle"></mat-icon>&nbsp; Add New
                        </button>
                    </div>
                    <div>
                        <mat-slide-toggle class="primary slider-adjust" [checked]="checkedan"
                            (change)="changeaskneed($event)">Include Closed
                            Items</mat-slide-toggle>
                    </div>
                </div>
            </div>
        </div>
        <div class="overflow-x-auto mx-6">
            <ngx-datatable [headerHeight]="64" [rowHeight]="'auto'" [scrollbarV]="false" columnMode="force"
                class="pr-6 font-medium text-sm text-secondary whitespace-nowrap"
                [rows]="projectViewDetails.overallPerformace"  #overallPerformance>
                <ngx-datatable-column 
                [minWidth]="50" [maxWidth]="50" [width]="50" name="metric">
                    <ng-template let-column="column" ngx-datatable-header-template>Metric</ng-template>
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <p style="overflow-wrap: break-worc;">{{value}}</p>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="currentState">
                    <ng-template let-column="column" ngx-datatable-header-template>Baseline</ng-template>
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <p>{{value}}</p>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="targetPerformance">
                    <ng-template let-column="column" ngx-datatable-header-template>Target Performance</ng-template>
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <p>{{value}}</p>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="actualPerformance">
                    <ng-template let-column="column" ngx-datatable-header-template>Actual Performance</ng-template>
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <p>{{value}}</p>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column [width]="100" [resizeable]="false" [sortable]="false" [draggable]="false"
                    [canAutoResize]="false">
                    <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
                        <div>
                            <a href="javascript:void(0)" title="Expand/Collapse Row" (click)="toggleExpandRow(row)">
                                <mat-icon *ngIf='!expanded' svgIcon="heroicons_outline:chevron-down"></mat-icon>
                                <mat-icon *ngIf='expanded' svgIcon="heroicons_outline:chevron-up"></mat-icon>

                            </a>
                            &nbsp;
                            &nbsp;
                            &nbsp;
                            <a href="javascript:void(0)" title="Edit Single"
                                (click)="projecthubservice.toggleDrawerOpen('AskNeed', row.askNeedUniqueId, projectViewDetails.askNeedData)">
                                <mat-icon svgIcon="heroicons_solid:pencil"></mat-icon>

                            </a>
                        </div>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-row-detail [rowHeight]="100" #myDetailRow (toggle)="onDetailToggle($event)">
                    <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
                        <div style="padding-top:35px;">
                            <div [ngClass]="{'closed': row.closeDate != null}"><strong>Comments:</strong>
                                {{row.comments}}</div>
                        </div>
                    </ng-template>
                </ngx-datatable-row-detail>

            </ngx-datatable>
        </div>
    </div>-->

    <!-- Risk Issues -->
    <div *ngIf="hubsetting.risks"
        class="xl:col-span-6 flex flex-col flex-auto mb-6 p-6 bg-card shadow rounded-2xl overflow-hidden">
        <app-risk-issues-table [lookup]="lookupmaster" [projectViewDetails]="projectViewDetails" [projectid]="id">
        </app-risk-issues-table>
    </div>

    <!-- Ask Needs -->
    <div *ngIf="hubsetting.asks"
        class="xl:col-span-6 flex flex-col flex-auto p-6 mb-6 bg-card shadow rounded-2xl overflow-hidden">
        <div class="p-6 flex items-center justify-between">
            <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate text-primary">Ask/Needs</div>

            <div class="text-primary">
                <div class="flex items-start justify-between">
                    <div style="padding-right: 5px;">
                        <button class="ml-4 text-primary" mat-flat-button [color]="'primary-200'"
                            (click)="projecthubservice.toggleDrawerOpen('AskNeed', 'new', projectViewDetails.askNeedData, id)">
                            <mat-icon svgIcon="heroicons_outline:plus-circle"></mat-icon>&nbsp; Add New
                        </button>
                    </div>
                    <div>
                        <mat-slide-toggle class="primary slider-adjust" [checked]="checkedan"
                            (change)="changeaskneed($event)">Include Closed
                            Items</mat-slide-toggle>
                    </div>
                </div>
            </div>
        </div>
        <div class="overflow-x-auto mx-6">
            <ngx-datatable [headerHeight]="64" [rowHeight]="'auto'" [scrollbarV]="false" columnMode="flex"
                class="pr-6 material font-medium text-sm text-secondary whitespace-nowrap" [rows]="askneedngxdata"
                [sorts]="[{ prop: 'needByDate', dir: 'desc' }]" #myTable>
                <ngx-datatable-column name='Status' prop="indicator" [flexGrow]="1" [resizeable]="false">
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <mat-icon svgIcon="{{(indicator.getIndicators(value, 'circle')).icontype}}"
                            class="{{(indicator.getIndicators(value, 'circle')).iconcolor}}">
                        </mat-icon>
                        &nbsp;
                        &nbsp;
                        <mat-icon [matTooltip]="getlinkname(row.askNeedUniqueId)" *ngIf="islink(row.askNeedUniqueId)"
                            svgIcon="heroicons_outline:link"></mat-icon>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Ask Or Need" prop="askNeed1" [flexGrow]="6">
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <p [ngClass]="{'closed': row.closeDate != null}">{{value}}</p>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Need From" prop="needFromName" [flexGrow]="2">
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <p [ngClass]="{'closed': row.closeDate != null}">{{value}}</p>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Need Date" prop="needByDate" [flexGrow]="1">
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <p [ngClass]="{'closed': row.closeDate != null}">{{value | date:'dd-MMM-yyyy'}}</p>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column [flexGrow]="1" [resizeable]="false" [sortable]="false" [draggable]="false">
                    <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
                        <div class="flex items-center ">
                            <a href="javascript:void(0)" title="Expand/Collapse Row" (click)="toggleExpandRow(row)">
                                <mat-icon *ngIf='!expanded' svgIcon="heroicons_outline:chevron-down"></mat-icon>
                                <mat-icon *ngIf='expanded' svgIcon="heroicons_outline:chevron-up"></mat-icon>

                            </a>
                            &nbsp;
                            &nbsp;
                            &nbsp;
                            <a href="javascript:void(0)" title="Edit Single"
                                (click)="projecthubservice.toggleDrawerOpen('AskNeed', row.askNeedUniqueId, projectViewDetails.askNeedData)">
                                <mat-icon svgIcon="heroicons_solid:pencil"></mat-icon>

                            </a>
                        </div>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-row-detail [rowHeight]="'auto'" #myDetailRow (toggle)="onDetailToggle($event)">
                    <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
                        <div class="pb-6 pt-6">
                            <div [ngClass]="{'closed': row.closeDate != null}"><strong>Comments:</strong>
                                {{row.comments}}</div>
                        </div>
                    </ng-template>
                </ngx-datatable-row-detail>

            </ngx-datatable>
        </div>
    </div>
    <!-- Milestones -->
    <div *ngIf="hubsetting.milestones"
        class="xl:col-span-6 flex flex-col flex-auto p-6 mb-6 bg-card shadow rounded-2xl overflow-hidden">
        <div class="p-6">
            <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate">Schedule<br>
                <span class="text-xl">NEW SCHEDULE TABLE WILL BE HERE</span>
            </div>
        </div>
       
    </div>
</div>